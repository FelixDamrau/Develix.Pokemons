@using PokeApiNet

@if (Pokemon is not null && Species is not null)
{
    <MudCard Class="pa-4 ma-2" Elevation="1" Style=@($"width: 300px")>
        <MudCardHeader>
            <CardHeaderAvatar>
                <MudAvatar Style=@($"background-color: {GetPokemonColor(Species)}")>@Pokemon.Name.ToUpper()[0] </MudAvatar>
            </CardHeaderAvatar>
            <CardHeaderContent>
                <MudText Typo="Typo.body1">
                    @if (Species.IsBaby)
                    {
                        <MudIcon Icon="@Icons.Material.Filled.BedroomBaby" Size="Size.Small" Class="mr-1" />
                    }
                    @if (Species.IsLegendary)
                    {
                        <MudIcon Icon="@Icons.Material.Filled.Stars" Size="Size.Small" Class="mr-1" />
                    }
                    @if (Species.IsMythical)
                    {
                        <MudIcon Icon="@Icons.Material.Filled.Stars" Color="Color.Warning" Size="Size.Small" Class="mr-1" />
                    }
                    @Pokemon.Name
                </MudText>
                <MudText Typo="Typo.body1">@GetPokemonTypeNames(Pokemon)</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <MudCarousel @ref="carousel" Style="height: 180px" AutoCycle="false" ShowArrows="false" ItemsSource="sprites">
                <ItemTemplate>
                    <PokemonSpriteDisplay FrontName="@context.FrontName"
                                      FrontImage="@context.FrontImage"
                                      BackName="@context.BackName"
                                      BackImage="@context.BackImage" />
                </ItemTemplate>
            </MudCarousel>
        </MudCardContent>
    </MudCard>
}
